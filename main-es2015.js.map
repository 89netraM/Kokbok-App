{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/category/category.component.ts","./src/app/category/category.component.html","./src/app/details/details.component.ts","./src/app/details/details.component.html","./src/app/guards/is-signed-in.guard.ts","./src/app/guards/is-signed-out.guard.ts","./src/app/modal/modal-required.directive.ts","./src/app/modal/modal.component.ts","./src/app/modal/modal.component.html","./src/app/routing-state/routing-state.service.ts","./src/app/settings/settings.component.ts","./src/app/settings/settings.component.html","./src/app/sign-in/sign-in.component.ts","./src/app/sign-in/sign-in.component.html","./src/app/start/start.component.ts","./src/app/start/start.component.html","./src/app/storage/category.ts","./src/app/storage/item.ts","./src/app/storage/storage.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { StartComponent } from \"./start/start.component\";\nimport { IsSignedInGuard } from \"./guards/is-signed-in.guard\";\nimport { SignInComponent } from \"./sign-in/sign-in.component\";\nimport { IsSignedOutGuard } from \"./guards/is-signed-out.guard\";\nimport { SettingsComponent } from \"./settings/settings.component\";\nimport { CategoryComponent } from \"./category/category.component\";\nimport { DetailsComponent } from \"./details/details.component\";\n\nconst routes: Routes = [\n\t{\n\t\tpath: \"\",\n\t\tcomponent: StartComponent,\n\t\tcanActivate: [IsSignedInGuard]\n\t},\n\t{\n\t\tpath: \"sign-in\",\n\t\tcomponent: SignInComponent,\n\t\tcanActivate: [IsSignedOutGuard]\n\t},\n\t{\n\t\tpath: \"settings\",\n\t\tcomponent: SettingsComponent,\n\t\tcanActivate: [IsSignedInGuard]\n\t},\n\t{\n\t\tpath: \"recept/:category\",\n\t\tcanActivate: [IsSignedInGuard],\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tpath: \"\",\n\t\t\t\tcomponent: CategoryComponent\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \":name\",\n\t\t\t\tcomponent: DetailsComponent\n\t\t\t}\n\t\t]\n\t}\n];\n\n@NgModule({\n\timports: [RouterModule.forRoot(routes)],\n\texports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from \"@angular/core\";\nimport { Location } from \"@angular/common\";\nimport { RoutingStateService } from \"./routing-state/routing-state.service\";\n\n@Component({\n\tselector: \"bok-root\",\n\ttemplateUrl: \"./app.component.html\",\n\tstyleUrls: [\"./app.component.scss\"]\n})\nexport class AppComponent {\n\tpublic name: string = \"Kokbok\";\n\n\tpublic get canGoBack(): string {\n\t\treturn this.state.hasHistory() ? \"visible\" : \"hidden\";\n\t}\n\n\tpublic constructor(private state: RoutingStateService, private location: Location) { }\n\n\tpublic back(): void {\n\t\tthis.location.back();\n\t}\n}","<nav>\n\t<button class=\"back\" [style.visibility]=\"canGoBack\" (click)=\"back()\"></button>\n\t<h1 routerLink=\"/\">{{name}}</h1>\n\t<button class=\"settings\"></button>\n</nav>\n<main>\n\t<router-outlet></router-outlet>\n</main>","import { BrowserModule } from \"@angular/platform-browser\";\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { HttpClientModule } from \"@angular/common/http\";\n\nimport { AppComponent } from \"./app.component\";\nimport { StartComponent } from \"./start/start.component\";\nimport { SignInComponent } from \"./sign-in/sign-in.component\";\nimport { CategoryComponent } from \"./category/category.component\";\nimport { DetailsComponent } from \"./details/details.component\";\nimport { SettingsComponent } from \"./settings/settings.component\";\nimport { StorageService } from \"./storage/storage.service\";\nimport { ModalComponent } from \"./modal/modal.component\";\nimport { ModalRequiredDirective } from \"./modal/modal-required.directive\";\nimport { RoutingStateService } from \"./routing-state/routing-state.service\";\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t\tStartComponent,\n\t\tSignInComponent,\n\t\tCategoryComponent,\n\t\tDetailsComponent,\n\t\tSettingsComponent,\n\t\tModalComponent,\n\t\tModalRequiredDirective\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tFormsModule,\n\t\tAppRoutingModule\n\t],\n\tproviders: [\n\t\tStorageService,\n\t\tRoutingStateService\n\t],\n\tbootstrap: [\n\t\tAppComponent\n\t]\n})\nexport class AppModule { }","import { Component, OnInit, ViewChild } from \"@angular/core\";\nimport { Item } from \"../storage/item\";\nimport { StorageService } from \"../storage/storage.service\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { ModalComponent } from \"../modal/modal.component\";\n\n@Component({\n\tselector: \"bok-category\",\n\ttemplateUrl: \"./category.component.html\",\n\tstyleUrls: [\"./category.component.scss\"]\n})\nexport class CategoryComponent implements OnInit {\n\tpublic items: Array<Item>;\n\n\tprivate isLoading: boolean = false;\n\tpublic get loading(): string {\n\t\treturn (this.items === undefined || this.isLoading) ? \"visible\" : \"hidden\";\n\t}\n\n\tprivate category: string;\n\n\t//#region Edit Modal\n\t@ViewChild(\"editModal\")\n\tpublic editModal: ModalComponent;\n\n\tprivate editingItem: Item;\n\tpublic _editingTitle: string;\n\tpublic _editingTitleBox: string;\n\tprivate set editingTitle(value: string) {\n\t\tthis._editingTitle = value;\n\t\tthis._editingTitleBox = value;\n\t}\n\tprivate get editingTitle(): string {\n\t\treturn this._editingTitleBox;\n\t}\n\t//#endregion\n\n\t//#region Add Modal\n\t@ViewChild(\"addModal\")\n\tpublic addModal: ModalComponent;\n\n\tpublic addingName: string;\n\tpublic addingType: number = 0;\n\tpublic addingURL: string;\n\t//#endregion\n\n\tpublic constructor(private storage: StorageService, private route: ActivatedRoute) { }\n\n\tpublic async ngOnInit() {\n\t\tthis.category = this.route.snapshot.params[\"category\"];\n\t\tthis.items = await this.storage.getItems(this.category);\n\t}\n\n\tpublic edit(item: Item): void {\n\t\tthis.editingItem = item;\n\t\tthis.editingTitle = item.name;\n\t\tthis.editModal.show();\n\t}\n\tpublic async editDelete(): Promise<void> {\n\t\t// Delete this.editingID\n\t\tthis.editModal.hide(false);\n\n\t\tthis.isLoading = true;\n\n\t\tconst success: boolean = await this.storage.itemDelete(this.editingItem.id);\n\t\tif (success) {\n\t\t\tthis.items = this.items.filter(x => x.id !== this.editingItem.id);\n\t\t}\n\n\t\tthis.isLoading = false;\n\t}\n\tpublic async editDone(status: boolean): Promise<void> {\n\t\tif (status) {\n\t\t\tthis.isLoading = true;\n\n\t\t\tconst success: boolean = await this.storage.itemRename(this.editingItem.id, this.editingTitle + \".\" + this.editingItem.type);\n\t\t\tif (success) {\n\t\t\t\tthis.editingItem.name = this.editingTitle;\n\t\t\t}\n\n\t\t\tthis.isLoading = false;\n\t\t}\n\t}\n\n\tpublic addNew(): void {\n\t\tthis.addingName = \"\";\n\t\tthis.addingType = 0;\n\t\tthis.addingURL = \"\";\n\n\t\tthis.addModal.show();\n\t}\n\tpublic async addNewDone(status: boolean): Promise<void> {\n\t\tif (status) {\n\t\t\tthis.isLoading = true;\n\n\t\t\tif (this.addingType === 0) {\n\t\t\t\ttry {\n\t\t\t\t\tconst newItem: Item = await this.storage.addItemDocument(this.category, this.addingName);\n\t\t\t\t\tthis.items.push(newItem);\n\t\t\t\t}\n\t\t\t\tcatch (error) {\n\t\t\t\t\tconsole.error(\"Could not add URL:\", error);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.addingType === 1) {\n\t\t\t\ttry {\n\t\t\t\t\tconst newItem: Item = await this.storage.addItemURL(this.category, this.addingName, this.addingURL);\n\t\t\t\t\tthis.items.push(newItem);\n\t\t\t\t}\n\t\t\t\tcatch (error) {\n\t\t\t\t\tconsole.error(\"Could not add URL:\", error);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.isLoading = false;\n\t\t}\n\t}\n}","<progress [style.visibility]=\"loading\"></progress>\n<div>\n\t<ng-container *ngFor=\"let item of items\">\n\t\t<ng-container *ngIf=\"item.type === 'url' then internal else external\"></ng-container>\n\t\t<ng-template #internal>\n\t\t\t<a class=\"item\" [href]=\"item.link\" target=\"_blank\">\n\t\t\t\t<span>{{item.name}}</span>\n\t\t\t\t<button (click)=\"$event.preventDefault(); edit(item);\"></button>\n\t\t\t</a>\n\t\t</ng-template>\n\t\t<ng-template #external>\n\t\t\t<button class=\"item\" [routerLink]=\"item.name\">\n\t\t\t\t<span>{{item.name}}</span>\n\t\t\t\t<button (click)=\"$event.stopImmediatePropagation(); edit(item);\"></button>\n\t\t\t</button>\n\t\t</ng-template>\n\t</ng-container>\n\t<a class=\"item new\" (click)=\"addNew()\"></a>\n</div>\n\n<bok-modal #addModal\n           title=\"Nytt recept\"\n           positive=\"Skapa\"\n           negative=\"Avbryt\"\n           (close)=\"addNewDone($event)\">\n\t<input type=\"text\" placeholder=\"Namn\" [(ngModel)]=\"addingName\" modalRequired/>\n\tTyp:\n\t<label><input name=\"type\" type=\"radio\" value=\"doc\" [value]=\"0\" [(ngModel)]=\"addingType\"/> Dokument</label>\n\t<label><input name=\"type\" type=\"radio\" value=\"link\" [value]=\"1\" [(ngModel)]=\"addingType\"/> Länk</label>\n\t<!-- <label>\n\t\t<input type=\"file\" accept=\"image/*\">\n\t\t<button></button>\n\t</label> -->\n\t<input *ngIf=\"addingType === 1\" type=\"url\" placeholder=\"Länk\" [(ngModel)]=\"addingURL\" modalRequired/>\n</bok-modal>\n\n<bok-modal #editModal\n           [title]=\"_editingTitle\"\n           positive=\"Spara\"\n           negative=\"Avbryt\"\n           (close)=\"editDone($event)\">\n\t<input type=\"text\" placeholder=\"Namn\" [(ngModel)]=\"_editingTitleBox\">\n\t<button class=\"delete\" (click)=\"editDelete()\">Ta bort</button>\n</bok-modal>","import { Component, OnInit, ElementRef, ViewChild } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Converter } from \"showdown\";\nimport { StorageService } from \"../storage/storage.service\";\nimport { Item } from \"../storage/item\";\nimport { ModalComponent } from \"../modal/modal.component\";\n\n@Component({\n\tselector: \"bok-details\",\n\ttemplateUrl: \"./details.component.html\",\n\tstyleUrls: [\"./details.component.scss\"]\n})\nexport class DetailsComponent implements OnInit {\n\tprivate readonly converter: Converter = new Converter();\n\n\tprivate _loading: boolean = true;\n\tpublic get loading(): string {\n\t\treturn this._loading ? \"visible\" : \"hidden\";\n\t}\n\n\tprivate category: string;\n\tprivate name: string;\n\tprivate item: Item;\n\n\tprivate markdown: string;\n\n\t@ViewChild(\"article\")\n\tprivate article: ElementRef<HTMLElement>;\n\n\tpublic isEditing: boolean = false;\n\t\n\t//#region Add Image\n\t@ViewChild(\"addImage\")\n\tpublic addImage: ModalComponent;\n\tprivate selectedFile: File;\n\n\tprivate selectionNode: Node;\n\tprivate selectionOffset: number;\n\t//#endregion\n\n\tpublic constructor(private storage: StorageService, private route: ActivatedRoute) { }\n\n\tpublic async ngOnInit(): Promise<void> {\n\t\tthis.category = this.route.snapshot.params[\"category\"];\n\t\tthis.name = this.route.snapshot.params[\"name\"];\n\t\tthis.item = await this.storage.getItem(this.category, this.name);\n\n\t\tthis.markdown = await this.storage.downloadItemText(this.item);\n\t\tthis.article.nativeElement.innerHTML = this.converter.makeHtml(this.markdown);\n\n\t\tthis._loading = false;\n\t}\n\n\tpublic async toggleEditing(): Promise<void> {\n\t\tif (this.isEditing) {\n\t\t\tthis._loading = true;\n\n\t\t\tconst markdown: string = this.converter.makeMarkdown(this.article.nativeElement.innerHTML);\n\t\t\tif (this.markdown !== markdown) {\n\t\t\t\tconst success: boolean = await this.storage.updateDocument(this.item, markdown);\n\t\t\t}\n\n\t\t\tthis._loading = false;\n\t\t}\n\t\telse {\n\t\t\tdocument.execCommand(\"defaultParagraphSeparator\", false, \"p\");\n\t\t}\n\n\t\tthis.isEditing = !this.isEditing;\n\t}\n\n\tpublic makeHeader(): void {\n\t\tconst selection: Selection = getSelection();\n\n\t\tlet last: Node;\n\t\tlet current: Node = selection.anchorNode.parentNode;\n\t\twhile (current !== this.article.nativeElement) {\n\t\t\tlast = current;\n\t\t\tcurrent = current.parentNode;\n\t\t}\n\n\t\tswitch (last.nodeName) {\n\t\t\tcase \"P\":\n\t\t\tdefault:\n\t\t\t\tdocument.execCommand(\"formatBlock\", false, \"h1\");\n\t\t\t\tbreak;\n\t\t\tcase \"H1\":\n\t\t\t\tdocument.execCommand(\"formatBlock\", false, \"h2\");\n\t\t\t\tbreak;\n\t\t\tcase \"H2\":\n\t\t\t\tdocument.execCommand(\"formatBlock\", false, \"h3\");\n\t\t\t\tbreak;\n\t\t\tcase \"H3\":\n\t\t\t\tdocument.execCommand(\"formatBlock\", false, \"p\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tpublic makeBold(): void {\n\t\tdocument.execCommand(\"bold\");\n\t}\n\tpublic makeItalic(): void {\n\t\tdocument.execCommand(\"italic\");\n\t}\n\tpublic makeList(): void {\n\t\tdocument.execCommand(\"insertOrderedList\");\n\t}\n\tpublic makeBullets(): void {\n\t\tdocument.execCommand(\"insertUnorderedList\");\n\t}\n\tpublic makeImage(): void {\n\t\tconst selection: Selection = getSelection();\n\t\tthis.selectionNode = selection.anchorNode;\n\t\tthis.selectionOffset = selection.anchorOffset;\n\n\t\tthis.addImage.show();\n\t}\n\n\tpublic imageFileChange(files: FileList): void {\n\t\tif (files.length > 0) {\n\t\t\tthis.selectedFile = files[0];\n\t\t}\n\t}\n\tpublic addImageDone(status: boolean): void {\n\t\tif (status) {\n\t\t\tconst reader: FileReader = new FileReader();\n\t\t\treader.addEventListener(\n\t\t\t\t\"load\",\n\t\t\t\t() => {\n\t\t\t\t\tthis.article.nativeElement.focus();\n\t\t\t\t\tdocument.getSelection().setPosition(this.selectionNode, this.selectionOffset);\n\t\t\t\t\tdocument.execCommand(\"insertImage\", false, reader.result as string);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t\treader.readAsDataURL(this.selectedFile);\n\t\t}\n\t}\n}","<progress [style.visibility]=\"loading\"></progress>\n\n<article>\n\t<button class=\"edit\" [class.noEdit]=\"isEditing\" (click)=\"toggleEditing()\" tool></button>\n\t<div #article [contentEditable]=\"isEditing\"></div>\n\t<aside>\n\t\t<button class=\"header\" (click)=\"makeHeader()\"></button>\n\t\t<button class=\"bold\" (click)=\"makeBold()\">F</button>\n\t\t<button class=\"italic\" (click)=\"makeItalic()\">K</button>\n\t\t<button class=\"list\" (click)=\"makeList()\"></button>\n\t\t<button class=\"bullets\" (click)=\"makeBullets()\"></button>\n\t\t<button class=\"image\" (click)=\"makeImage()\"></button>\n\t</aside>\n</article>\n\n<bok-modal #addImage\n           title=\"Lägg till bild\"\n           positive=\"Lägg till\"\n           negative=\"Avbryt\"\n           (close)=\"addImageDone($event)\">\n\t<label>\n\t\t<input type=\"file\" accept=\"image/*\" (change)=\"imageFileChange($event.target.files)\" modalRequired/>\n\t\t<div class=\"button\" data-choose=\"Välj bild\" data-change=\"Byt bild\"></div>\n\t</label>\n</bok-modal>","import { Injectable } from \"@angular/core\";\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { StorageService } from \"../storage/storage.service\";\n\n@Injectable({\n\tprovidedIn: \"root\"\n})\nexport class IsSignedInGuard implements CanActivate {\n\tconstructor(private storage: StorageService, private router: Router) { }\n\n\tpublic canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n\t\tif (this.storage.isLogedin()) {\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\tthis.router.navigate([\"/sign-in\"]);\n\t\t\treturn false;\n\t\t}\n\t}\n}","import { Injectable } from \"@angular/core\";\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { StorageService } from \"../storage/storage.service\";\n\n@Injectable({\n\tprovidedIn: \"root\"\n})\nexport class IsSignedOutGuard implements CanActivate {\n\tconstructor(private storage: StorageService, private router: Router) { }\n\n\tpublic canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n\t\tif (this.storage.isLogedin()) {\n\t\t\tthis.router.navigate([\"/\"]);\n\t\t\treturn false;\n\t\t}\n\t\telse {\n\t\t\treturn true;\n\t\t}\n\t}\n}","import { Directive, Input, ElementRef, HostListener } from \"@angular/core\";\n\n@Directive({\n\t// tslint:disable-next-line:directive-selector\n\tselector: \"[modalRequired]\"\n})\nexport class ModalRequiredDirective {\n\tprivate _isValid: boolean = false;\n\n\t@HostListener(\"input\")\n\tprivate onInput(): void {\n\t\tthis._isValid = this.host.nativeElement.validity.valid;\n\t}\n\n\tpublic constructor(private host: ElementRef<HTMLInputElement>) {\n\t\tthis.host.nativeElement.required = true;\n\t}\n\n\tpublic isValid(): boolean {\n\t\treturn this._isValid;\n\t}\n}","import { Component, Input, HostBinding, Output, EventEmitter, ContentChildren, QueryList } from \"@angular/core\";\nimport { ModalRequiredDirective } from \"./modal-required.directive\";\n\n@Component({\n\tselector: \"bok-modal\",\n\ttemplateUrl: \"./modal.component.html\",\n\tstyleUrls: [\"./modal.component.scss\"]\n})\nexport class ModalComponent {\n\t@Input()\n\tpublic title: string;\n\t@Input()\n\tpublic positive: string;\n\t@Input()\n\tpublic negative: string;\n\n\t@Output()\n\tpublic close: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n\t@HostBinding(\"style.display\")\n\tprivate styleDisplay: string = \"none\";\n\tprivate get visible(): boolean {\n\t\treturn this.styleDisplay !== \"none\";\n\t}\n\tprivate set visible(value: boolean) {\n\t\tthis.styleDisplay = value ? \"\" : \"none\";\n\t}\n\n\t@ContentChildren(ModalRequiredDirective)\n\tprivate required: QueryList<ModalRequiredDirective>;\n\n\tpublic constructor() { }\n\n\tpublic isAllValid(): boolean {\n\t\treturn this.required.toArray().every(x => x.isValid());\n\t}\n\n\tpublic show(): void {\n\t\tthis.visible = true;\n\t}\n\n\tpublic hide(status: boolean): void {\n\t\tthis.visible = false;\n\t\tthis.close.emit(status);\n\t}\n}","<div>\n\t<div class=\"top\">\n\t\t<h1 *ngIf=\"title\">{{title}}</h1>\n\t</div>\n\t<div class=\"content\">\n\t\t<ng-content></ng-content>\n\t</div>\n\t<div class=\"bottom\">\n\t\t<button *ngIf=\"negative\" (click)=\"hide(false);\" class=\"cancel\">{{negative}}</button>\n\t\t<button *ngIf=\"positive\" (click)=\"hide(true);\" class=\"ok\" [disabled]=\"!isAllValid()\">{{positive}}</button>\n\t</div>\n</div>","import { Injectable } from \"@angular/core\";\nimport { Router, NavigationEnd, RouterEvent } from \"@angular/router\";\n\n@Injectable({\n\tprovidedIn: \"root\"\n})\nexport class RoutingStateService {\n\tprivate history: Array<string> = new Array<string>();\n\n\tpublic constructor(private router: Router) {\n\t\tthis.router.events.subscribe(\n\t\t\t(e: RouterEvent) => {\n\t\t\t\tif (e instanceof NavigationEnd) {\n\t\t\t\t\tif (e.urlAfterRedirects === this.history[this.history.length - 2]) {\n\t\t\t\t\t\tthis.history.pop();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.history.push(e.urlAfterRedirects);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic getPreviousUrl(): string {\n\t\treturn this.history[this.history.length - 2] || \"/\";\n\t}\n\n\tpublic hasHistory(): boolean {\n\t\treturn this.history.length > 1;\n\t}\n}","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'bok-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss']\n})\nexport class SettingsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<p>\n  settings works!\n</p>\n","import { Component } from \"@angular/core\";\nimport { StorageService } from \"../storage/storage.service\";\nimport { Router } from \"@angular/router\";\n\n@Component({\n\tselector: \"bok-sign-in\",\n\ttemplateUrl: \"./sign-in.component.html\",\n\tstyleUrls: [\"./sign-in.component.scss\"]\n})\nexport class SignInComponent {\n\tconstructor(private storage: StorageService, private router: Router) { }\n\n\tpublic async signin(): Promise<void> {\n\t\tawait this.storage.signin();\n\t\tthis.router.navigate([\"/\"]);\n\t}\n}","<button (click)=\"signin()\">Logga in med OneDrive</button>","import { Component, OnInit, ViewChild } from \"@angular/core\";\nimport { StorageService } from \"../storage/storage.service\";\nimport { Category } from \"../storage/category\";\nimport { ModalComponent } from \"../modal/modal.component\";\n\n@Component({\n\tselector: \"bok-start\",\n\ttemplateUrl: \"./start.component.html\",\n\tstyleUrls: [\"./start.component.scss\"]\n})\nexport class StartComponent implements OnInit {\n\tpublic categories: Array<Category>;\n\n\t//#region Edit Modal\n\t@ViewChild(\"editModal\")\n\tpublic editModal: ModalComponent;\n\n\tprivate editingCategory: Category;\n\tpublic _editingTitle: string;\n\tpublic _editingTitleBox: string;\n\tprivate set editingTitle(value: string) {\n\t\tthis._editingTitle = value;\n\t\tthis._editingTitleBox = value;\n\t}\n\tprivate get editingTitle(): string {\n\t\treturn this._editingTitleBox;\n\t}\n\t//#endregion\n\n\t//#region Add Modal\n\t@ViewChild(\"addModal\")\n\tpublic addModal: ModalComponent;\n\n\tpublic addingName: string;\n\tpublic addingType: number = 0;\n\tpublic addingURL: string;\n\t//#endregion\n\n\tprivate isLoading: boolean = false;\n\tpublic get loading(): string {\n\t\treturn (this.categories === undefined || this.isLoading) ? \"visible\" : \"hidden\";\n\t}\n\n\tpublic constructor(private storage: StorageService) { }\n\n\tpublic async ngOnInit() {\n\t\tthis.categories = await this.storage.getCategories();\n\t}\n\n\tpublic edit(category: Category): void {\n\t\tthis.editingCategory = category;\n\t\tthis.editingTitle = category.name;\n\t\tthis.editModal.show();\n\t}\n\tpublic async editDelete(): Promise<void> {\n\t\t// Delete this.editingID\n\t\tthis.editModal.hide(false);\n\n\t\tthis.isLoading = true;\n\n\t\tconst success: boolean = await this.storage.categoryDelete(this.editingCategory.id);\n\t\tif (success) {\n\t\t\tthis.categories = this.categories.filter(x => x.id !== this.editingCategory.id);\n\t\t}\n\n\t\tthis.isLoading = false;\n\t}\n\tpublic async editDone(status: boolean): Promise<void> {\n\t\tif (status) {\n\t\t\tthis.isLoading = true;\n\n\t\t\tconst success: boolean = await this.storage.categoryRename(this.editingCategory.id, this.editingTitle);\n\t\t\tif (success) {\n\t\t\t\tthis.editingCategory.name = this.editingTitle;\n\t\t\t}\n\n\t\t\tthis.isLoading = false;\n\t\t}\n\t}\n\n\tpublic addNew(): void {\n\t\tthis.addingName = \"\";\n\n\t\tthis.addModal.show();\n\t}\n\tpublic async addNewDone(status: boolean): Promise<void> {\n\t\tif (status) {\n\t\t\tthis.isLoading = true;\n\n\t\t\ttry {\n\t\t\t\tconst newCategory: Category = await this.storage.addCategory(this.addingName);\n\t\t\t\tthis.categories.push(newCategory);\n\t\t\t\tthis.categories = this.categories.sort(\n\t\t\t\t\t(a, b) => {\n\t\t\t\t\t\tconst aName = a.name.toLowerCase();\n\t\t\t\t\t\tconst bName = b.name.toLowerCase();\n\n\t\t\t\t\t\tif (aName < bName) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (aName > bName) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tconsole.error(\"Could not add URL:\", error);\n\t\t\t}\n\n\t\t\tthis.isLoading = false;\n\t\t}\n\t}\n}","<progress [style.visibility]=\"loading\"></progress>\n<div>\n\t<button class=\"item\" *ngFor=\"let category of categories\" [routerLink]=\"'/recept/' + category.name\">\n\t\t<span>{{category.name}}</span>\n\t\t<button (click)=\"$event.stopImmediatePropagation(); edit(category);\"></button>\n\t</button>\n\t<a class=\"item new\" (click)=\"addNew()\"></a>\n</div>\n\n<bok-modal #addModal\n           title=\"Ny kategori\"\n           positive=\"Skapa\"\n           negative=\"Avbryt\"\n           (close)=\"addNewDone($event)\">\n\t<input type=\"text\" placeholder=\"Namn\" [(ngModel)]=\"addingName\" modalRequired/>\n</bok-modal>\n\n<bok-modal #editModal\n           [title]=\"_editingTitle\"\n           positive=\"Spara\"\n           negative=\"Avbryt\"\n           (close)=\"editDone($event)\">\n\t<input type=\"text\" placeholder=\"Namn\" [(ngModel)]=\"_editingTitleBox\">\n\t<button class=\"delete\" (click)=\"editDelete()\">Ta bort</button>\n</bok-modal>","import { ResponseItem } from \"./response\";\n\nexport class Category {\n\tpublic static async ExtractFromData(data: ResponseItem): Promise<Category> {\n\t\tif (data.hasOwnProperty(\"folder\")) {\n\t\t\treturn new Category(data.id, data.createdDateTime, data.name);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tpublic readonly id: string;\n\tpublic readonly created: Date;\n\tpublic name: string;\n\n\tpublic constructor(id: string, created: string, name: string) {\n\t\tthis.id = id;\n\t\tthis.created = new Date(created);\n\t\tthis.name = name;\n\t}\n}","import { ResponseItem } from \"./response\";\nimport { Category } from \"./category\";\n\nexport class Item extends Category {\n\tpublic static async ExtractFromData(data: ResponseItem): Promise<Item> {\n\t\tif (data.hasOwnProperty(\"file\") &&\n\t\t\tdata.hasOwnProperty(\"@microsoft.graph.downloadUrl\")) {\n\t\t\treturn new Item(data.id, data.createdDateTime, data.name, data[\"@microsoft.graph.downloadUrl\"]);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tpublic readonly type: string;\n\tpublic readonly link: string;\n\n\tpublic constructor(id: string, created: string, name: string, link?: string) {\n\t\tsuper(id, created, name.substring(0, name.lastIndexOf(\".\")));\n\t\tthis.type = name.substring(name.lastIndexOf(\".\") + 1);\n\t\tthis.link = link || this.name;\n\t}\n}","import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Response, ResponseItem } from \"./response\";\nimport { Category } from \"./category\";\nimport { Item } from \"./item\";\n\ndeclare const Msal: any;\n\n@Injectable({\n\tprovidedIn: \"root\"\n})\nexport class StorageService {\n\tprivate static readonly clientID: string = \"8d45faf8-ac8b-4dc5-98b4-2f0aa0703deb\";\n\tprivate static readonly authority: string = \"https://login.microsoftonline.com/common\";\n\tprivate static readonly scopes: Array<string> = [ \"user.read\", \"files.readwrite\" ];\n\tprivate static readonly base: string = \"https://graph.microsoft.com/v1.0/me/drive\";\n\tprivate static get Scopes(): Array<string> { return StorageService.scopes.map(x => \"https://graph.microsoft.com/\" + x); }\n\tprivate static get Approot(): string { return StorageService.base + \"/special/approot\"; }\n\tprivate static get Items(): string { return StorageService.base + \"/items\"; }\n\n\tprivate readonly msalAgent: any;\n\tprivate token: Promise<string>;\n\n\tpublic constructor(private http: HttpClient) {\n\t\tthis.msalAgent = new Msal.UserAgentApplication(\n\t\t\tStorageService.clientID,\n\t\t\tnull,\n\t\t\tthis.tokenReceivedCallback,\n\t\t\t{\n\t\t\t\tstoreAuthStateInCookie: true,\n\t\t\t\tcacheLocation: \"localStorage\",\n\t\t\t\tredirectUri: \"https://kokbok.app/sign-in\"\n\t\t\t}\n\t\t);\n\n\t\tif (this.isLogedin()) {\n\t\t\tthis.acquireToken();\n\t\t}\n\t}\n\n\tprivate tokenReceivedCallback(errorDesc: any, token: any, error: any, tokenType: any): void {\n\t\tconsole.error(\"tokenReceivedCallback\", errorDesc, token, error, tokenType);\n\t}\n\n\tprivate async acquireToken(): Promise<string> {\n\t\tif (this.token == null) {\n\t\t\tconst fetchToken = async (): Promise<string> => {\n\t\t\t\ttry {\n\t\t\t\t\treturn await this.msalAgent.acquireTokenSilent(StorageService.Scopes);\n\t\t\t\t}\n\t\t\t\tcatch (error) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconsole.log(\"try\", error);\n\t\t\t\t\t\treturn await this.msalAgent.acquireTokenPopup(StorageService.Scopes);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\tconsole.log(\"failed\", error);\n\t\t\t\t\t\tthrow new Error(\"Can't signin\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.token = fetchToken();\n\t\t}\n\n\t\treturn await this.token;\n\t}\n\n\tprivate async getOptions(): Promise<{ headers: { Authorization: string } }> {\n\t\treturn {\n\t\t\theaders: {\n\t\t\t\t\"Authorization\": \"Bearer \" + await this.acquireToken()\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic isLogedin(): boolean {\n\t\treturn this.msalAgent.getUser() != null;\n\t}\n\n\tpublic async signin(): Promise<void> {\n\t\ttry {\n\t\t\tawait this.msalAgent.loginPopup(StorageService.Scopes);\n\n\t\t\tawait this.acquireToken();\n\t\t}\n\t\tcatch (error) {\n\t\t\tconsole.log(\"Signin error\", error);\n\t\t}\n\t}\n\n\tpublic async signout(): Promise<void> {\n\t\twindow.localStorage.clear();\n\t}\n\n\tprivate async makeGet<T>(URL: string): Promise<T> {\n\t\tconst response: T = await this.http.get<T>(URL, await this.getOptions()).toPromise<T>();\n\n\t\treturn response;\n\t}\n\n\tpublic async getCategories(): Promise<Array<Category>> {\n\t\tconst resopnse: Response = await this.makeGet<Response>(StorageService.Approot + \"/children\");\n\n\t\tconst arr: Array<Category> = new Array<Category>();\n\n\t\tfor (const data of resopnse.value) {\n\t\t\tconst cat: Category = await Category.ExtractFromData(data);\n\t\t\tif (cat != null) {\n\t\t\t\tarr.push(cat);\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t}\n\tpublic async getItems(category: string): Promise<Array<Item>> {\n\t\tconst resopnse: Response = await this.makeGet<Response>(StorageService.Approot + \":/\" + category + \":/children\");\n\t\tconst arr: Array<Item> = new Array<Item>();\n\n\t\tfor (const data of resopnse.value) {\n\t\t\tconst item = await this.createItem(data);\n\t\t\tif (item != null) {\n\t\t\t\tarr.push(item);\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t}\n\tpublic async getItem(category: string, name: string): Promise<Item> {\n\t\tconst items: Array<Item> = await this.getItems(category);\n\n\t\tfor (const item of items) {\n\t\t\tif (item.name === name) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n\tprivate async createItem(data: ResponseItem) {\n\t\tlet item: Item = await Item.ExtractFromData(data);\n\t\tif (item != null) {\n\t\t\tif (item.type === \"url\" || item.type === \"txt\") {\n\t\t\t\titem = await this.downloadLink(item) ?? item;\n\t\t\t}\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tpublic async itemRename(id: string, newName: string): Promise<boolean> {\n\t\ttry {\n\t\t\tawait this.http.patch(\n\t\t\t\tStorageService.Items + \"/\" + id,\n\t\t\t\t{\n\t\t\t\t\t\"name\": newName\n\t\t\t\t},\n\t\t\t\tawait this.getOptions()\n\t\t\t).toPromise();\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\tpublic async itemDelete(id: string): Promise<boolean> {\n\t\ttry {\n\t\t\tawait this.http.delete(\n\t\t\t\tStorageService.Items + \"/\" + id,\n\t\t\t\tawait this.getOptions()\n\t\t\t).toPromise();\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic async categoryRename(id: string, newName: string): Promise<boolean> {\n\t\ttry {\n\t\t\tawait this.http.patch(\n\t\t\t\tStorageService.Items + \"/\" + id,\n\t\t\t\t{\n\t\t\t\t\t\"name\": newName\n\t\t\t\t},\n\t\t\t\tawait this.getOptions()\n\t\t\t).toPromise();\n\n\t\t\treturn true;\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\t}\n\tpublic async categoryDelete(id: string): Promise<boolean> {\n\t\ttry {\n\t\t\tawait this.http.delete(\n\t\t\t\tStorageService.Items + \"/\" + id,\n\t\t\t\tawait this.getOptions()\n\t\t\t).toPromise();\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate async addItem(category: string, name: string, content: string): Promise<Item> {\n\t\tconst response: ResponseItem = await this.http.put<ResponseItem>(\n\t\t\tStorageService.Approot + \":/\" + category + \"/\" + name + \":/content\",\n\t\t\tcontent,\n\t\t\tawait this.getOptions()\n\t\t).toPromise<ResponseItem>();\n\n\t\treturn await this.createItem(response);\n\t}\n\tpublic async addItemURL(category: string, name: string, URL: string): Promise<Item> {\n\t\treturn await this.addItem(category, name + \".url\", \"[InternetShortcut]\\nURL=\" + URL);\n\t}\n\tpublic async addItemDocument(category: string, name: string): Promise<Item> {\n\t\treturn await this.addItem(category, name + \".md\", \"# \" + name);\n\t}\n\n\tpublic async addCategory(name: string): Promise<Category> {\n\t\tconst response: ResponseItem = await this.http.post<ResponseItem>(\n\t\t\tStorageService.Approot + \"/children\",\n\t\t\t{\n\t\t\t\t\"name\": name,\n\t\t\t\t\"folder\": { },\n\t\t\t\t\"@microsoft.graph.conflictBehavior\": \"rename\"\n\t\t\t},\n\t\t\tawait this.getOptions()\n\t\t).toPromise<ResponseItem>();\n\n\t\treturn Category.ExtractFromData(response);\n\t}\n\n\tpublic async updateDocument(item: Item, content: string): Promise<boolean> {\n\t\tif (item.type === \"md\") {\n\t\t\ttry {\n\t\t\t\tawait this.uploadDocument(item.id, content);\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate uploadDocument(id: string, content: string): Promise<void> {\n\t\tconst uploadSmallDocument = async (id: string, content: string): Promise<void> => {\n\t\t\tawait this.http.put(\n\t\t\t\tStorageService.Items + \"/\" + id + \"/content\",\n\t\t\t\tcontent,\n\t\t\t\tawait this.getOptions()\n\t\t\t).toPromise();\n\t\t};\n\t\tconst uploadBigDocument = async (id: string, content: string): Promise<void> => {\n\t\t\tconst uploadPart = async (url: string, blob: Blob, index: number, total: number): Promise<void> => {\n\t\t\t\tawait this.http.put(\n\t\t\t\t\turl,\n\t\t\t\t\tawait blob.text(),\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Range\": `bytes ${index}-${Math.min(index + blob.size, total) - 1}/${total}`\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t).toPromise();\n\t\t\t};\n\n\t\t\tconst response = await this.http.post(\n\t\t\t\tStorageService.Items + \"/\" + id + \"/createUploadSession\",\n\t\t\t\t{\n\t\t\t\t\t\"@microsoft.graph.conflictBehavior\": \"replace\"\n\t\t\t\t},\n\t\t\t\tawait this.getOptions()\n\t\t\t).toPromise();\n\t\t\tif (response != null && \"uploadUrl\" in response) {\n\t\t\t\tconst blob = new Blob([content]);\n\t\t\t\tconst partSize = 327680 * 20;\n\t\t\t\tfor (let i = 0; i < blob.size; i += partSize) {\n\t\t\t\t\tawait uploadPart(response[\"uploadUrl\"], blob.slice(i, i + partSize), i, blob.size);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthrow new Error(\"Could not fetch upload URL.\");\n\t\t\t}\n\t\t};\n\n\t\tif (content.length < 4000000) {\n\t\t\treturn uploadSmallDocument(id, content);\n\t\t}\n\t\telse {\n\t\t\treturn uploadBigDocument(id, content);\n\t\t}\n\t}\n\n\tpublic async downloadItemText(item: Item): Promise<string> {\n\t\treturn await this.http.get<string>(\n\t\t\titem.link,\n\t\t\t{\n\t\t\t\tresponseType: \"text\" as \"json\"\n\t\t\t}\n\t\t).toPromise<string>();\n\t}\n\tprivate async downloadLink(item: Item): Promise<Item> {\n\t\tlet linkText: string = await this.downloadItemText(item);\n\n\t\tlinkText = linkText.replace(/(.|\\n|\\r)*?URL=(.*)(.|\\n|\\r)*/ig, \"$2\").trim();\n\n\t\tif (!linkText.match(/^https?:\\/\\//)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn new Item(item.id, item.created.toISOString(), item.name + \".url\", linkText);\n\t}\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n\tproduction: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import \"zone.js/dist/zone-error\";  // Included with Angular CLI.\n","import { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\n\nimport { AppModule } from \"./app/app.module\";\nimport { environment } from \"./environments/environment\";\n\nif (environment.production) {\n\tenableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n\t.catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}